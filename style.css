:root {
    --bg-color-dark-1: #1e0a32; /* Morado muy oscuro */
    --bg-color-dark-2: #0f001c; /* Casi negro */
    --text-color-light: #ffffff;
    --neon-glow-color: #ff80ed; 
    --popup-bg-color: #ff3d7c;
}

body {
    margin: 0;
    height: 100vh;
    overflow: hidden; 
    
    /* Fondo con degradado grande y en movimiento (Efecto Nebulosa) */
    background: linear-gradient(270deg, var(--bg-color-dark-1), var(--bg-color-dark-2), var(--bg-color-dark-1), #350f58);
    background-size: 400% 400%; /* Tama帽o 4 veces mayor para el movimiento */
    animation: moveGradient 30s ease infinite; /* Animaci贸n lenta y constante */
    
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Arial Black', sans-serif;
    position: relative;
    cursor: pointer; 
}

/*  Keyframe de Movimiento de Fondo (Garantiza la Animaci贸n) */
@keyframes moveGradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* --- Texto "PERDN" (Adaptable y Separado) --- */
#perdon-container {
    display: flex; 
    font-size: 12vw; 
    font-weight: 900; 
    z-index: 20;
    max-width: 90%; 
    letter-spacing: 2.5vw; 
    margin-right: calc(-1 * 2.5vw); 
}

.perdon-letter {
    color: var(--text-color-light);
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.5s;
    position: relative;
    
    /* Efecto de Brillo/Ne贸n */
    text-shadow: 
        0 0 5px var(--neon-glow-color),
        0 0 10px var(--neon-glow-color),
        0 0 20px rgba(255, 255, 255, 0.8);
    
    /* Animaci贸n de aparici贸n */
    animation: revealSlow 4s forwards; 
}

/* El keyframe es para cuando la letra ya est谩 visible */
@keyframes revealSlow {
    0% { opacity: 0; transform: scale(0.8); }
    100% { opacity: 1; transform: scale(1); }
}


/* --- Fondo Estrellado (Part铆culas) --- */
#starry-sky-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
    pointer-events: none; 
}

.falling-particle {
    position: absolute;
    opacity: 0;
    animation: starFall linear infinite;
    z-index: 6;
    text-shadow: 0px 0px 8px var(--neon-glow-color); 
    color: var(--neon-glow-color);
}

@keyframes starFall {
    0% { 
        transform: translate(var(--x-start), -10vh) rotate(0deg) scale(0.4); 
        opacity: 0; 
    }
    15% { opacity: 0.9; }
    85% { opacity: 0.2; }
    100% { 
        transform: translate(var(--x-end), 110vh) rotate(360deg) scale(1.2); 
        opacity: 0; 
    }
}


/* --- Mensaje Emergente al Clic --- */
#popup-message {
    position: fixed; 
    background: var(--popup-bg-color);
    color: white;
    padding: 15px 30px; 
    border-radius: 50px; 
    font-size: 1.5em; 
    font-weight: bold;
    opacity: 0;
    transform: scale(0.1);
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); 
    z-index: 100;
    pointer-events: none; 
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4); 
}

.show-popup {
    opacity: 1 !important;
    transform: scale(1) !important;
}
